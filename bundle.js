!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=n(1);new(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"defaultOptions",{width:6,cellMaxWidth:80,selector:"othello",cellBGColor:"#43a047"}),e&&"object"===i(e)&&(this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.defaultOptions,{},e)),this.board=new c(this.options.width),this.initGame()}var e,n,a;return e=t,(n=[{key:"initGame",value:function(){var t=this.options.selector,e=void 0===t?"othella":t;if(this.elm=document.getElementById(e),!this.elm)throw new Error("Element not found for id ".concat(e));for(var n=0;n<this.options.width;n++){for(var r=this.createRowElm(n),i=0;i<this.options.width;i++){var o=this.board.getCell(i,n),l=this.createCellElm(i,n);l.appendChild(this.createNutElm(o.owner,this.board.isValidMove(i,n),this.board.turn)),r.appendChild(l)}this.elm.appendChild(r)}}},{key:"reRender",value:function(){for(var t=0;t<this.options.width;t++)for(var e=0;e<this.options.width;e++){var n=this.board.getCell(e,t),r=document.getElementById("og-board-cell-".concat(e,"-").concat(t));r.innerHTML="",r.appendChild(this.createNutElm(n.owner,this.board.isValidMove(e,t),this.board.turn))}}},{key:"createNutElm",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=document.createElement("span");return r.style.backgroundColor=t,r.style.display="inline-block",r.style.width="".concat(Math.floor(.8*this.options.cellMaxWidth),"px"),r.style.height="".concat(Math.floor(.8*this.options.cellMaxWidth),"px"),r.style.borderRadius="100%",e&&(r.style.border="1px dashed #".concat("white"===n?"eee":"444")),r}},{key:"createRowElm",value:function(t){var e=document.createElement("div");return e.style.display="flex",e.setAttribute("class","og-board-row row-".concat(t)),e.setAttribute("id","og-board-row-".concat(t)),e}},{key:"handleCellClick",value:function(t,e){var n=this;return function(){if(n.board.finished){var r=n.board.gameResult();console.log(r);var i=document.createElement("div");return i.setAttribute("id","result"),i.innerHTML="Winner: ".concat(r.winner," (").concat(r[r.winner],")"),r.white===r.black&&(i.innerHTML="Equal!"),void n.elm.appendChild(i)}n.board.placeNutTo(t,e),n.reRender()}}},{key:"createCellElm",value:function(t,e){var n=document.createElement("div");return n.setAttribute("class","og-cell cell-".concat(t,"-").concat(e)),n.setAttribute("id","og-board-cell-".concat(t,"-").concat(e)),n.style.backgroundColor=this.options.cellBGColor,n.style.border="1px solid #d5d5d5",n.style.width="".concat(this.options.cellMaxWidth,"px"),n.style.height="".concat(this.options.cellMaxWidth,"px"),n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.onclick=this.handleCellClick(t,e),n}}])&&o(e.prototype,n),a&&o(e,a),t}())({cellMaxWidth:Math.min(100,(Math.min(window.innerWidth,window.innerHeight)-100)/8)})},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=n(2),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.cells={},this.moves=[],this.turn="black",this._finished=!1,this.initBoard()}var e,n,c;return e=t,(n=[{key:"initBoard",value:function(){for(var t=0;t<this.width;t++)for(var e=0;e<this.width;e++)this.cells["".concat(t,"-").concat(e)]=new l(t,e);this.putInitialNuts()}},{key:"putInitialNuts",value:function(){var t=Math.floor(this.width/2);this.setOwner(t,t,"white"),this.setOwner(t-1,t-1,"white"),this.setOwner(t,t-1,"black"),this.setOwner(t-1,t,"black"),this.findMoves()}},{key:"getCell",value:function(t,e){return this.cells["".concat(t,"-").concat(e)]}},{key:"changeTurn",value:function(){this.turn="white"===this.turn?"black":"white"}},{key:"setOwner",value:function(t,e,n){if(!this.getCell(t,e))throw new Error("Could not found any cell for x:".concat(t," & y:").concat(e));this.getCell(t,e).owner=n}},{key:"getNuts",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return Object.keys(this.cells).map((function(r){(!e&&null!==t.cells[r].owner||e&&t.cells[r].owner===e)&&n.push(t.cells[r])})),n}},{key:"getWhiteNuts",value:function(){return this.getNuts("white")}},{key:"getBlackNuts",value:function(){return this.getNuts("black")}},{key:"addMove",value:function(t,e,n,r){var i=!1;this.moves.map((function(n){n.x===t&&n.y===e&&(i=!0,-1===n.directions.indexOf(r)&&n.directions.push(r))})),i||this.moves.push({x:t,y:e,centerNut:n,directions:[r]})}},{key:"isOnBoard",value:function(t,e){return t>-1&&e>-1&&t<this.width&&e<this.width}},{key:"getEmptyNeighborsOfCell",value:function(t,e){var n=this,r=[];return this.getCell(t,e).neighbors().map((function(t){var e=i(t,2),o=e[0],l=e[1];n.isOnBoard(o,l)&&null===n.getCell(o,l).owner&&r.push(n.getCell(o,l))})),r}},{key:"crossAxises",value:function(t,e){return{topLeftToCell:function(n){return"".concat(t+n,"-").concat(e+n)},topCenterToCell:function(n){return"".concat(t,"-").concat(e+n)},topRightToCell:function(n){return"".concat(t-n,"-").concat(e+n)},leftCenterToCell:function(n){return"".concat(t+n,"-").concat(e)},rightCenterToCell:function(n){return"".concat(t-n,"-").concat(e)},bottomLeftToCell:function(n){return"".concat(t+n,"-").concat(e-n)},bottomCenterToCell:function(n){return"".concat(t,"-").concat(e-n)},bottomRightToCell:function(n){return"".concat(t-n,"-").concat(e-n)}}}},{key:"crossAllDirectionsToCell",value:function(t,e,n){var r=this,i=this.crossAxises(t,e);Object.keys(i).map((function(o){for(var l=0,c=0;c<r.width;c++){var a=r.cells[i[o](c)];if(!a)break;if(a.owner!==r.turn&&null!==a.owner)l++;else{if(a.owner===r.turn&&l>0){r.addMove(t,e,n,o);break}if(1===c&&(a.owner===r.turn||null===a.owner))break;if(l>0&&null===a.owner)break}}}))}},{key:"findMoves",value:function(){var t=this;this.moves=[],("white"===this.turn?this.getBlackNuts():this.getWhiteNuts()).map((function(e){var n=i(e.pos(),2),r=n[0],o=n[1];t.getEmptyNeighborsOfCell(r,o).map((function(e){var n=i(e.pos(),2),l=n[0],c=n[1];t.crossAllDirectionsToCell(l,c,[r,o])}))}))}},{key:"findCellsToFlip",value:function(t,e,n){for(var r=this.crossAxises(t,e),i=[],o=0;o<=this.width;o++){var l=this.cells[r[n](o)];if(!l)break;if(l.owner!==this.turn)i.push(l);else if(l.owner===this.turn||null===l.owner)break}return i}},{key:"isValidMove",value:function(t,e){return void 0!==this.moves.find((function(n){return n.x===t&&n.y===e}))}},{key:"placeNutTo",value:function(t,e){var n=this;if(!this.isValidMove(t,e))throw new Error("The move [".concat(t,",").concat(e,"] is impossible!"));var i=this.moves.find((function(n){return n.x===t&&n.y===e})),o=[];i.directions.map((function(i){o=[].concat(r(o),r(n.findCellsToFlip(t,e,i)))})),o.map((function(t){return t.owner=n.turn})),this.changeTurn(),this.findMoves(),0===this.moves.length&&(this.changeTurn(),this.findMoves(),0===this.moves.length&&(this._finished=!0))}},{key:"gameResult",value:function(){var t=this.getWhiteNuts().length,e=this.getBlackNuts().length;return{white:t,black:e,winner:t>e?"white":e>t?"black":"equal"}}},{key:"finished",get:function(){return this._finished}}])&&o(e.prototype,n),c&&o(e,c),t}();t.exports=c},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this._owner=r}var e,n,i;return e=t,(n=[{key:"pos",value:function(){return[this.x,this.y]}},{key:"neighbors",value:function(){return[[this.x-1,this.y-1],[this.x-1,this.y],[this.x-1,this.y+1],[this.x,this.y-1],[this.x,this.y+1],[this.x+1,this.y-1],[this.x+1,this.y],[this.x+1,this.y+1]]}},{key:"owner",get:function(){return this._owner},set:function(t){this._owner=t}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=i}]);
